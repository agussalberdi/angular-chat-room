<div class="conversation">
    @if (chatRoomSelected) {
        <div class="conversation__name">
            @if (!isEditing) {
                <p>{{ chatRoomSelected.name }}</p>
                <i class="pi pi-pencil" style="color: #708090" (click)="toggleEditMode()"></i>
            } @else {
                <input type="text" pInputText [(ngModel)]="chatRoomSelected.name" (keyup.enter)="updateChatRoomName()"/>
            }
        </div>
        <div class="conversation__messages">
            @for (message of chatRoomSelected.messages; track $index) {
                <p class="conversation__messages__item">{{ message.user }}: {{ message.text }}</p>
            }
        </div>
        
        <div class="conversation__input">
            <input type="text" placeholder="Type a message" pInputText [(ngModel)]="message" (keyup.enter)="sendMessage()"/>
        </div>
    } @else {
        <p>No chat room selected</p>
    }
</div>
